package me.amfero.blmclient.module.exploit;

import com.mojang.realmsclient.gui.ChatFormatting;

import me.amfero.blmclient.event.events.PacketReceiveEvent;
import me.amfero.blmclient.module.Category;
import me.amfero.blmclient.module.Module;
import net.minecraft.client.multiplayer.GuiConnecting;
import net.minecraft.network.play.server.SPacketChat;
import net.minecraft.util.text.TextComponentString;

public class QueueSkip extends Module 
{
	public QueueSkip() 
	{
		super("QueueSkip", "", Category.EXPLOIT);
	}
	
	public void onEnable() 
	{
		if (nullCheck() || mc.getCurrentServerData() == null || mc.getCurrentServerData() != null && !mc.getCurrentServerData().serverIP.equals("2b2t.org") || mc.getCurrentServerData() != null && !mc.getCurrentServerData().serverIP.equals("connect.2b2t.org")) 
		{
			mc.player.sendMessage(new TextComponentString(ChatFormatting.RED +  "Error"));
			disable();
		} 
		else 
		{
			mc.player.sendMessage(new TextComponentString(ChatFormatting.GOLD +  "Connecting to the server..."));
			mc.displayGuiScreen(new GuiConnecting(null, mc, "play.oldfag.org", 25565));
		}
	}
	
	public void onPacket(PacketReceiveEvent event)
	{
		if(nullCheck()) return;
		if (event.getPacket() instanceof SPacketChat) 
		{
			event.setCanceled(true);
		}
	}
}